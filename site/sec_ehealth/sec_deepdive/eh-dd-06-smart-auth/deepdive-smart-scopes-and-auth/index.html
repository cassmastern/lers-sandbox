
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://cassmastern.github.io/cass-sandbox/sec_ehealth/sec_deepdive/eh-dd-06-smart-auth/deepdive-smart-scopes-and-auth/" rel="canonical"/>
<link href="../deepdive-smart-launch-flow/" rel="prev"/>
<link href="../deepdive-smart-config-discovery/" rel="next"/>
<link href="../../../../img/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.39" name="generator"/>
<title>SMART Scopes and Authorization - Ler's Sandbox</title>
<link href="../../../../assets/stylesheets/main.8c3ca2c6.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../../css/alphabet.css" rel="stylesheet"/>
<link href="../../../../css/diagram-zoom.css" rel="stylesheet"/>
<link href="../../../../css/cm-logo.css" rel="stylesheet"/>
<link href="../../../../css/color-vars.css" rel="stylesheet"/>
<link href="../../../../css/custom-theme-colors.css" rel="stylesheet"/>
<link href="../../../../assets/mkdocs_puml/puml.css" rel="stylesheet"/>
<link href="../../../../assets/mkdocs_puml/interaction.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-GD2XWDMP2E"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-GD2XWDMP2E",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-GD2XWDMP2E",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
</head>
<body data-md-color-accent="custom" data-md-color-primary="custom" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#smart-scopes-and-authorization">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Ler's Sandbox" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="Ler's Sandbox">
<img alt="logo" src="../../../../img/logo.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Ler's Sandbox
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              SMART Scopes and Authorization
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="custom" data-md-color-media="" data-md-color-primary="custom" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="custom" data-md-color-media="" data-md-color-primary="custom" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Ler's Sandbox" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="Ler's Sandbox">
<img alt="logo" src="../../../../img/logo.svg"/>
</a>
    Ler's Sandbox
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../..">
<span class="md-ellipsis">
    HOME
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_about/">
<span class="md-ellipsis">
    ABOUT THIS WEBSITE
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            ABOUT THIS WEBSITE
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_about/whatsinhere/">
<span class="md-ellipsis">
    What's in Here?
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_about/roadmap/">
<span class="md-ellipsis">
    Roadmap &amp; Changelog
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_about/feedback/">
<span class="md-ellipsis">
    Feedback
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_cloud/">
<span class="md-ellipsis">
    IN THE CLOUDS
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            IN THE CLOUDS
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cloud/aws-gcp-azure/">
<span class="md-ellipsis">
    Architectures of AWS, GCP, and Azure
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cloud/aws-gcp-azure_glossary/">
<span class="md-ellipsis">
    Cross-Platform Cloud &amp; DevOps Glossary (AWS, GCP, Azure)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cloud/aws-gcp-azure_glossary_enhanced/">
<span class="md-ellipsis">
    Cross-Platform Cloud &amp; DevOps Glossary (AWS, GCP, Azure) — Enhanced
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cloud/jakarta-ee-azure/">
<span class="md-ellipsis">
    A Jakarta Enterprise Application on Azure
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_accss/">
<span class="md-ellipsis">
    ACCESSIBILITY
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            ACCESSIBILITY
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/accss_/">
<span class="md-ellipsis">
    Accessibility Reference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/visuals-for-the-sightless/">
<span class="md-ellipsis">
    Visuals for the Sightless
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/accss_diagram-dilemma/">
<span class="md-ellipsis">
    The Diagramming Dilemma
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/mermaid-beyond-reach/">
<span class="md-ellipsis">
    An Accessible Mermaid Beyond Reach
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/mermaid-captured/">
<span class="md-ellipsis">
    Mermaid Captured
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_accss/mkdocs-mermaid-plantuml-graphviz/">
<span class="md-ellipsis">
    Diagram Accessibility: Current State/Path Forward
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_freeform/">
<span class="md-ellipsis">
    CONCEPTS, ESSAYS, ETC.
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            CONCEPTS, ESSAYS, ETC.
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_freeform/ibm-sanfran/">
<span class="md-ellipsis">
    IBM SanFrancisco
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_freeform/ai-accessibility/">
<span class="md-ellipsis">
    Accessibility with AI
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_freeform/ai-accessibility_bus/">
<span class="md-ellipsis">
    Accessibility with AI (Concept Note)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_freeform/gen-ai-landscape-primer/">
<span class="md-ellipsis">
    GenAI Landscape in 2025
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_freeform/identity/">
<span class="md-ellipsis">
    The Long Arc of Digital Identity
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_net-sec/">
<span class="md-ellipsis">
    NETWORKS &amp; SECURITY
  </span>
</a>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            NETWORKS &amp; SECURITY
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_net-sec/network_data_center/">
<span class="md-ellipsis">
    A Hypothetical Data Centre Network
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_net-sec/network_data_center_stride/">
<span class="md-ellipsis">
    Network Security and Threat Modeling — STRIDE
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_net-sec/network_data_center_mitre/">
<span class="md-ellipsis">
    Network Security and Threat Modeling — MITRE ATT&amp;CK
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_net-sec/saml-admin/">
<span class="md-ellipsis">
    Single Sign-On (SSO) Admin Guide — SAML 2.0 Integration
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../">
<span class="md-ellipsis">
    eHEALTH
  </span>
</a>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            eHEALTH
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_7_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    SMART-on-FHIR Deep Dive
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_7_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
            SMART-on-FHIR Deep Dive
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-01-foundations/">
<span class="md-ellipsis">
    An Introduction to FHIR
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_2" id="__nav_7_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_2">
<span class="md-nav__icon md-icon"></span>
            An Introduction to FHIR
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-01-foundations/deepdive-overview/">
<span class="md-ellipsis">
    Overview of SMART-on-FHIR
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-01-foundations/deepdive-overview-fhir-arch/">
<span class="md-ellipsis">
    SMART-on-FHIR Architecture Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-01-foundations/deepdive-overview-fhir-resources/">
<span class="md-ellipsis">
    Key FHIR Resources
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-02-fhir-data-fundamentals/">
<span class="md-ellipsis">
    FHIR Data Fundamentals
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_3" id="__nav_7_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_3">
<span class="md-nav__icon md-icon"></span>
            FHIR Data Fundamentals
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-02-fhir-data-fundamentals/deepdive-fhir-data-types/">
<span class="md-ellipsis">
    FHIR Data Types
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-02-fhir-data-fundamentals/deepdive-fhir-code-systems/">
<span class="md-ellipsis">
    FHIR Terminology Standards
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-02-fhir-data-fundamentals/deepdive-fhir-cardinality/">
<span class="md-ellipsis">
    FHIR Resource Cardinality
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-02-fhir-data-fundamentals/deepdive-complete-resource-example/">
<span class="md-ellipsis">
    Complete FHIR Resource Example
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-03-fhir-resource-relationships/">
<span class="md-ellipsis">
    FHIR Resource Relationships
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_4" id="__nav_7_2_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_4">
<span class="md-nav__icon md-icon"></span>
            FHIR Resource Relationships
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-03-fhir-resource-relationships/deepdive-fhir-resource-relationships/">
<span class="md-ellipsis">
    FHIR Resource Relationships
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-03-fhir-resource-relationships/deepdive-fhir-resource-relationships-comprehensive/">
<span class="md-ellipsis">
    FHIR Comprehensive Resource Relationships
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-03-fhir-resource-relationships/deepdive-fhir-resource-bundles/">
<span class="md-ellipsis">
    FHIR Resource Bundles
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-04-working-with-fhir-apis/">
<span class="md-ellipsis">
    FHIR Resource APIs
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_5" id="__nav_7_2_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_5">
<span class="md-nav__icon md-icon"></span>
            FHIR Resource APIs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-04-working-with-fhir-apis/deepdive-fhir-rest-common-ops/">
<span class="md-ellipsis">
    Common FHIR REST Operations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-04-working-with-fhir-apis/deepdive-fhir-search-parameters/">
<span class="md-ellipsis">
    FHIR Search Parameters
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-04-working-with-fhir-apis/deepdive-error-handling/">
<span class="md-ellipsis">
    Error Handling and OperationOutcome
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-04-working-with-fhir-apis/deepdive-fhir-validation/">
<span class="md-ellipsis">
    FHIR Validation
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-05-advanced-fhir-concepts/">
<span class="md-ellipsis">
    Advanced FHIR Concepts
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_6" id="__nav_7_2_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_6">
<span class="md-nav__icon md-icon"></span>
            Advanced FHIR Concepts
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-05-advanced-fhir-concepts/eh-dd-05-advanced-intro/">
<span class="md-ellipsis">
    Handling Variation — Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-05-advanced-fhir-concepts/deepdive-fhir-profiles-and-extensions/">
<span class="md-ellipsis">
    FHIR Profiles and Extensions
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_7_2_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    SMART Authorization
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_7" id="__nav_7_2_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_7_2_7_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_7">
<span class="md-nav__icon md-icon"></span>
            SMART Authorization
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../deepdive-oauth-overview/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deepdive-oauth-flow/">
<span class="md-ellipsis">
    OAuth 2.0 Flow
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deepdive-smart-launch-flow/">
<span class="md-ellipsis">
    SMART Launch Flow
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    SMART Scopes and Authorization
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    SMART Scopes and Authorization
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#granular-permissions-for-healthcare-data">
<span class="md-ellipsis">
      Granular Permissions for Healthcare Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-syntax-the-building-blocks">
<span class="md-ellipsis">
      Scope Syntax: The Building Blocks
    </span>
</a>
<nav aria-label="Scope Syntax: The Building Blocks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#context-whos-data">
<span class="md-ellipsis">
      Context (Who's data?)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-what-data">
<span class="md-ellipsis">
      Resource (What data?)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permission-what-actions">
<span class="md-ellipsis">
      Permission (What actions?)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-scope-examples-from-your-scaffold">
<span class="md-ellipsis">
      Common Scope Examples (From Your Scaffold)
    </span>
</a>
<nav aria-label="Common Scope Examples (From Your Scaffold)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#patient-specific-scopes-most-common">
<span class="md-ellipsis">
      Patient-Specific Scopes (Most Common)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-level-scopes-provider-access">
<span class="md-ellipsis">
      User-Level Scopes (Provider Access)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write-permissions-createupdate">
<span class="md-ellipsis">
      Write Permissions (Create/Update)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#wildcard-scopes-broad-access">
<span class="md-ellipsis">
      Wildcard Scopes (Broad Access)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#openid-connect-scopes-identity">
<span class="md-ellipsis">
      OpenID Connect Scopes (Identity)
    </span>
</a>
<nav aria-label="OpenID Connect Scopes (Identity)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#openid-enable-oidc-authentication">
<span class="md-ellipsis">
      openid - Enable OIDC authentication
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-user-profile-information">
<span class="md-ellipsis">
      profile - User profile information
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-email-address">
<span class="md-ellipsis">
      email - Email address
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fhiruser-fhir-resource-url-for-user">
<span class="md-ellipsis">
      fhirUser - FHIR resource URL for user
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-context-scopes-ehr-integration">
<span class="md-ellipsis">
      Launch Context Scopes (EHR Integration)
    </span>
</a>
<nav aria-label="Launch Context Scopes (EHR Integration)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-enable-ehr-launch">
<span class="md-ellipsis">
      launch - Enable EHR launch
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launchpatient-request-patient-context">
<span class="md-ellipsis">
      launch/patient - Request patient context
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launchencounter-request-encounter-context">
<span class="md-ellipsis">
      launch/encounter - Request encounter context
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#offline-access-long-term-tokens">
<span class="md-ellipsis">
      Offline Access (Long-Term Tokens)
    </span>
</a>
<nav aria-label="Offline Access (Long-Term Tokens)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#offline_access-request-refresh-token">
<span class="md-ellipsis">
      offline_access - Request refresh token
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#typical-scope-combinations-from-your-scaffold">
<span class="md-ellipsis">
      Typical Scope Combinations (From Your Scaffold)
    </span>
</a>
<nav aria-label="Typical Scope Combinations (From Your Scaffold)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-read-only-app-patient-portal">
<span class="md-ellipsis">
      Basic Read-Only App (Patient Portal)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#comprehensive-read-access-health-summary">
<span class="md-ellipsis">
      Comprehensive Read Access (Health Summary)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clinical-documentation-app-provider-tool">
<span class="md-ellipsis">
      Clinical Documentation App (Provider Tool)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#provider-dashboard-population-health">
<span class="md-ellipsis">
      Provider Dashboard (Population Health)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backend-service-no-user">
<span class="md-ellipsis">
      Backend Service (No User)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-negotiation-requested-vs-granted">
<span class="md-ellipsis">
      Scope Negotiation: Requested vs. Granted
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-best-practices">
<span class="md-ellipsis">
      Scope Best Practices
    </span>
</a>
<nav aria-label="Scope Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-request-minimum-necessary-scopes">
<span class="md-ellipsis">
      1. Request Minimum Necessary Scopes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-explain-scopes-to-users">
<span class="md-ellipsis">
      2. Explain Scopes to Users
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-handle-partial-grants-gracefully">
<span class="md-ellipsis">
      3. Handle Partial Grants Gracefully
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-use-write-carefully">
<span class="md-ellipsis">
      4. Use .write Carefully
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-scope-errors">
<span class="md-ellipsis">
      Common Scope Errors
    </span>
</a>
<nav aria-label="Common Scope Errors" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#error-insufficient_scope">
<span class="md-ellipsis">
      Error: insufficient_scope
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#error-invalid_scope">
<span class="md-ellipsis">
      Error: invalid_scope
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deepdive-smart-config-discovery/">
<span class="md-ellipsis">
    SMART Configuration Discovery
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deepdive-security-and-access-control/">
<span class="md-ellipsis">
    Security and Access Control
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/">
<span class="md-ellipsis">
    Hands-On
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_8" id="__nav_7_2_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_8_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_8">
<span class="md-nav__icon md-icon"></span>
            Hands-On
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/deepdive-smart-health-it-sandbox/">
<span class="md-ellipsis">
    Using the SMART Health IT Sandbox
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/deepdive-smart_client_impl-sample-app/">
<span class="md-ellipsis">
    Practical Example — a Sample SMART App
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/deepdive-smart_client_impl/">
<span class="md-ellipsis">
    SMART Client Implementation (Python)
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/deepdive-smart_client_impl-practical-code-examples/">
<span class="md-ellipsis">
    Practical Code Examples
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-07-hands-on-practice/deepdive-testing-and-debugging/">
<span class="md-ellipsis">
    Testing and Debugging
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_2_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../eh-dd-08-wrap-up/">
<span class="md-ellipsis">
    Wrap-Up
  </span>
</a>
<label class="md-nav__link" for="__nav_7_2_9" id="__nav_7_2_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_2_9_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_7_2_9">
<span class="md-nav__icon md-icon"></span>
            Wrap-Up
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-08-wrap-up/deepdive-key-takeaways/">
<span class="md-ellipsis">
    Deepdive key takeaways
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../eh-dd-08-wrap-up/deepdive-summary/">
<span class="md-ellipsis">
    Summary
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../sec_integration/">
<span class="md-ellipsis">
    SMART-on-FHIR Integration
  </span>
</a>
<label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_3">
<span class="md-nav__icon md-icon"></span>
            SMART-on-FHIR Integration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../sec_integration/quick_ref/">
<span class="md-ellipsis">
    SMART-on-FHIR and Integration Quick Reference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../sec_integration/smart-fhir-visuals/">
<span class="md-ellipsis">
    SMART-on-FHIR and Integration — Visuals
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../sec_integration/gloss_ontario_halo/">
<span class="md-ellipsis">
    Ontario eHealth &amp; HALO Integration Glossary
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_api/">
<span class="md-ellipsis">
    API DOCUMENTATION
  </span>
</a>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            API DOCUMENTATION
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/">
<span class="md-ellipsis">
    COUNTRIES REST API
  </span>
</a>
<label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_2">
<span class="md-nav__icon md-icon"></span>
            COUNTRIES REST API
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/api-countries-overview/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_2_3" id="__nav_8_2_3_label" tabindex="0">
<span class="md-ellipsis">
    Guides
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_8_2_3">
<span class="md-nav__icon md-icon"></span>
            Guides
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_guides/api-countries-guides-quickstart/">
<span class="md-ellipsis">
    Quick Start Guide
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_guides/api-countries-guides-filtering/">
<span class="md-ellipsis">
    Advanced Filtering
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_guides/api-countries-guides-integration/">
<span class="md-ellipsis">
    Integration Patterns
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_examples/">
<span class="md-ellipsis">
    Examples
  </span>
</a>
<label class="md-nav__link" for="__nav_8_2_4" id="__nav_8_2_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_8_2_4">
<span class="md-nav__icon md-icon"></span>
            Examples
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_examples/api-countries-examples-javascript/">
<span class="md-ellipsis">
    JavaScript Examples
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_examples/api-countries-examples-python/">
<span class="md-ellipsis">
    Python Examples
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/sec_api_countries_examples/api-countries-examples-usecases/">
<span class="md-ellipsis">
    Real-World Use Cases
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/reference/">
<span class="md-ellipsis">
    Interactive OpenAPI (Swagger) Reference
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_api/sec_api_countries/resources/">
<span class="md-ellipsis">
    Resources &amp; Support
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_api/sec_api_stripe/">
<span class="md-ellipsis">
    STRIPE PAYMENT API
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_8_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_3">
<span class="md-nav__icon md-icon"></span>
            STRIPE PAYMENT API
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_cheatsheets/">
<span class="md-ellipsis">
    CHEAT SHEETS
  </span>
</a>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
            CHEAT SHEETS
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cheatsheets/cheatsheet-docker/">
<span class="md-ellipsis">
    Docker Command Cheatsheet
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cheatsheets/cheatsheet-kubectl/">
<span class="md-ellipsis">
    Kubectl Command Cheat Sheet
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_cheatsheets/cheatsheet_compound-modifiers/">
<span class="md-ellipsis">
    Compound Modifiers Cheat Sheet
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../../sec_gloss/">
<span class="md-ellipsis">
    GLOSSARIES
  </span>
</a>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
            GLOSSARIES
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_gloss/gloss_oss/">
<span class="md-ellipsis">
    Glossary of OSS Terms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_gloss/gloss_networking/">
<span class="md-ellipsis">
    Glossary of Networking Terms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_gloss/gloss_kuber/">
<span class="md-ellipsis">
    Glossary of Kubernetes Terms
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../sec_gloss/gloss_cloud-native/">
<span class="md-ellipsis">
    Glossary of Cloud-Native Terms
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#granular-permissions-for-healthcare-data">
<span class="md-ellipsis">
      Granular Permissions for Healthcare Data
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-syntax-the-building-blocks">
<span class="md-ellipsis">
      Scope Syntax: The Building Blocks
    </span>
</a>
<nav aria-label="Scope Syntax: The Building Blocks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#context-whos-data">
<span class="md-ellipsis">
      Context (Who's data?)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resource-what-data">
<span class="md-ellipsis">
      Resource (What data?)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permission-what-actions">
<span class="md-ellipsis">
      Permission (What actions?)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-scope-examples-from-your-scaffold">
<span class="md-ellipsis">
      Common Scope Examples (From Your Scaffold)
    </span>
</a>
<nav aria-label="Common Scope Examples (From Your Scaffold)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#patient-specific-scopes-most-common">
<span class="md-ellipsis">
      Patient-Specific Scopes (Most Common)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-level-scopes-provider-access">
<span class="md-ellipsis">
      User-Level Scopes (Provider Access)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write-permissions-createupdate">
<span class="md-ellipsis">
      Write Permissions (Create/Update)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#wildcard-scopes-broad-access">
<span class="md-ellipsis">
      Wildcard Scopes (Broad Access)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#openid-connect-scopes-identity">
<span class="md-ellipsis">
      OpenID Connect Scopes (Identity)
    </span>
</a>
<nav aria-label="OpenID Connect Scopes (Identity)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#openid-enable-oidc-authentication">
<span class="md-ellipsis">
      openid - Enable OIDC authentication
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-user-profile-information">
<span class="md-ellipsis">
      profile - User profile information
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#email-email-address">
<span class="md-ellipsis">
      email - Email address
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fhiruser-fhir-resource-url-for-user">
<span class="md-ellipsis">
      fhirUser - FHIR resource URL for user
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-context-scopes-ehr-integration">
<span class="md-ellipsis">
      Launch Context Scopes (EHR Integration)
    </span>
</a>
<nav aria-label="Launch Context Scopes (EHR Integration)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#launch-enable-ehr-launch">
<span class="md-ellipsis">
      launch - Enable EHR launch
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launchpatient-request-patient-context">
<span class="md-ellipsis">
      launch/patient - Request patient context
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#launchencounter-request-encounter-context">
<span class="md-ellipsis">
      launch/encounter - Request encounter context
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#offline-access-long-term-tokens">
<span class="md-ellipsis">
      Offline Access (Long-Term Tokens)
    </span>
</a>
<nav aria-label="Offline Access (Long-Term Tokens)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#offline_access-request-refresh-token">
<span class="md-ellipsis">
      offline_access - Request refresh token
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#typical-scope-combinations-from-your-scaffold">
<span class="md-ellipsis">
      Typical Scope Combinations (From Your Scaffold)
    </span>
</a>
<nav aria-label="Typical Scope Combinations (From Your Scaffold)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-read-only-app-patient-portal">
<span class="md-ellipsis">
      Basic Read-Only App (Patient Portal)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#comprehensive-read-access-health-summary">
<span class="md-ellipsis">
      Comprehensive Read Access (Health Summary)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clinical-documentation-app-provider-tool">
<span class="md-ellipsis">
      Clinical Documentation App (Provider Tool)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#provider-dashboard-population-health">
<span class="md-ellipsis">
      Provider Dashboard (Population Health)
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backend-service-no-user">
<span class="md-ellipsis">
      Backend Service (No User)
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-negotiation-requested-vs-granted">
<span class="md-ellipsis">
      Scope Negotiation: Requested vs. Granted
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scope-best-practices">
<span class="md-ellipsis">
      Scope Best Practices
    </span>
</a>
<nav aria-label="Scope Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-request-minimum-necessary-scopes">
<span class="md-ellipsis">
      1. Request Minimum Necessary Scopes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-explain-scopes-to-users">
<span class="md-ellipsis">
      2. Explain Scopes to Users
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-handle-partial-grants-gracefully">
<span class="md-ellipsis">
      3. Handle Partial Grants Gracefully
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-use-write-carefully">
<span class="md-ellipsis">
      4. Use .write Carefully
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-scope-errors">
<span class="md-ellipsis">
      Common Scope Errors
    </span>
</a>
<nav aria-label="Common Scope Errors" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#error-insufficient_scope">
<span class="md-ellipsis">
      Error: insufficient_scope
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#error-invalid_scope">
<span class="md-ellipsis">
      Error: invalid_scope
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
<span class="md-ellipsis">
      Next Steps
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="smart-scopes-and-authorization">SMART Scopes and Authorization</h1>
<h2 id="granular-permissions-for-healthcare-data">Granular Permissions for Healthcare Data</h2>
<p>Scopes are the heart of OAuth authorization—they define <strong>what</strong> an app can do with <strong>which</strong> data. SMART-on-FHIR extends standard OAuth scopes with healthcare-specific patterns that enable fine-grained access control.</p>
<p>Think of scopes as access badges:
- 🔴 <strong>Red badge</strong>: Read-only access to patient vitals
- 🟡 <strong>Yellow badge</strong>: Read/write access to observations
- 🟢 <strong>Green badge</strong>: Full access to all patient resources</p>
<p>Without scopes, authorization would be all-or-nothing. Scopes let patients and providers grant precisely the access needed—nothing more.</p>
<hr/>
<h2 id="scope-syntax-the-building-blocks">Scope Syntax: The Building Blocks</h2>
<p>Scope syntax follows this basic pattern:</p>
<p><code>[context]/[resource].[permission]</code></p>
<p>Let's break down each component:</p>
<h3 id="context-whos-data">Context (Who's data?)</h3>
<p><strong><code>patient/</code></strong> - Data for the current patient in context</p>
<ul>
<li>EHR launch: Patient from launch context</li>
<li>Standalone launch: Authenticated patient</li>
<li><strong>Use when</strong>: App works with single patient at a time</li>
</ul>
<p><strong><code>user/</code></strong> - Data the authenticated user can access</p>
<ul>
<li>Clinician can access multiple patients</li>
<li>Respects existing EHR access controls</li>
<li><strong>Use when</strong>: Provider-facing dashboards, population health tools</li>
</ul>
<p><strong><code>system/</code></strong> - Backend service access (no human user)</p>
<ul>
<li>Used for B2B integrations</li>
<li>Bulk data export, analytics pipelines</li>
<li><strong>Use when</strong>: Automated workflows, scheduled jobs</li>
</ul>
<hr/>
<h3 id="resource-what-data">Resource (What data?)</h3>
<p><strong>Specific resource type</strong>: <code>Patient</code>, <code>Observation</code>, <code>Condition</code>, etc.</p>
<div class="highlight"><pre><span></span><code>patient/Observation.read
</code></pre></div>
<p>Access only Observation resources.</p>
<p><strong>Wildcard</strong>: <code>*</code> for all resource types</p>
<div class="highlight"><pre><span></span><code>patient/*.read
</code></pre></div>
<p>Access all resources for patient (Observations, Conditions, Medications, etc.).</p>
<hr/>
<h3 id="permission-what-actions">Permission (What actions?)</h3>
<p><strong><code>.read</code></strong> - Read-only access</p>
<ul>
<li>GET operations</li>
<li>Search operations</li>
<li>Most common permission</li>
</ul>
<p><strong><code>.write</code></strong> - Create and update</p>
<ul>
<li>POST (create)</li>
<li>PUT (update)</li>
<li>Implies <code>.read</code> (need to read to update)</li>
</ul>
<p><strong><code>.*</code></strong> - Full access</p>
<ul>
<li>All CRUD operations</li>
<li>Includes delete</li>
<li>Rarely granted</li>
</ul>
<hr/>
<h2 id="common-scope-examples-from-your-scaffold">Common Scope Examples (From Your Scaffold)</h2>
<h3 id="patient-specific-scopes-most-common">Patient-Specific Scopes (Most Common)</h3>
<div class="highlight"><pre><span></span><code>patient/Patient.read          # Demographics
patient/Observation.read      # Labs, vitals
patient/Condition.read        # Diagnoses
patient/MedicationRequest.read # Prescriptions
patient/AllergyIntolerance.read # Allergies
patient/Immunization.read     # Vaccines
patient/Procedure.read        # Procedures
patient/DiagnosticReport.read # Reports
patient/Encounter.read        # Visits
patient/DocumentReference.read # Documents
</code></pre></div>
<p><strong>Use case</strong>: Patient-facing app showing own health data.</p>
<p><strong>Token response</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"patient/Observation.read patient/Condition.read"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"patient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-1288992"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API calls allowed</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="err">✅ GET /Observation?patient=smart-1288992</span>
<span class="err">✅ GET /Condition?patient=smart-1288992</span>
<span class="err">❌ GET /Observation?patient=different-patient  (403 Forbidden)</span>
<span class="err">❌ POST /Observation  (403 Insufficient scope - need .write)</span>
</code></pre></div>
<hr/>
<h3 id="user-level-scopes-provider-access">User-Level Scopes (Provider Access)</h3>
<div class="highlight"><pre><span></span><code>user/Patient.read          # Any patient user can access
user/Observation.read      # Cross-patient observations
user/Practitioner.read     # Colleague information
user/Organization.read     # Facility data
</code></pre></div>
<p><strong>Use case</strong>: Provider dashboard showing panel of patients.</p>
<p><strong>Token response</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user/Patient.read user/Observation.read"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"fhirUser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.example.org/Practitioner/dr-johnson"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>API calls allowed</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="err">✅ GET /Patient?name=Smith  (returns all Smiths user can access)</span>
<span class="err">✅ GET /Observation?patient=any-patient-id  (if user has access)</span>
<span class="err">❌ GET /Patient (no filter)  (Some servers restrict this)</span>
</code></pre></div>
<p><strong>Security note</strong>: EHR enforces existing access controls. If Dr. Johnson can't access cardiology patients in EHR, <code>user/</code> scopes won't grant that access.</p>
<hr/>
<h3 id="write-permissions-createupdate">Write Permissions (Create/Update)</h3>
<div class="highlight"><pre><span></span><code>patient/Observation.write      # Create/update observations
patient/Condition.write        # Create/update conditions
user/Patient.write             # Create/update any patient
</code></pre></div>
<p><strong>Use case</strong>: Clinical documentation app, patient-reported outcomes.</p>
<p><strong>Implications</strong>:
- <code>.write</code> includes <code>.read</code> (can't update without reading)
- Creates audit trail entries
- Higher scrutiny during authorization
- May require additional user confirmation</p>
<p><strong>API calls allowed</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="err">✅ POST /Observation  (create new)</span>
<span class="err">✅ PUT /Observation/obs-123  (update existing)</span>
<span class="err">✅ GET /Observation/obs-123  (read - implied)</span>
</code></pre></div>
<hr/>
<h3 id="wildcard-scopes-broad-access">Wildcard Scopes (Broad Access)</h3>
<div class="highlight"><pre><span></span><code>patient/*.read    # Read all resources for patient
user/*.read       # Read all resources user can access
patient/*.write   # Full write access for patient
user/*.*          # Full access to all user resources
</code></pre></div>
<p><strong>Use case</strong>: Comprehensive health apps, EHR integrations.</p>
<p><strong>Security consideration</strong>: Request wildcards only when truly needed. Narrower scopes build user trust.</p>
<p><strong>Example request</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s1">'launch'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'launch/patient'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'patient/*.read'</span><span class="p">,</span><span class="w">  </span><span class="c1">// All patient resources</span>
<span class="w">  </span><span class="s1">'openid'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'fhirUser'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'offline_access'</span>
<span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>
</code></pre></div>
<hr/>
<h2 id="openid-connect-scopes-identity">OpenID Connect Scopes (Identity)</h2>
<h3 id="openid-enable-oidc-authentication"><code>openid</code> - Enable OIDC authentication</h3>
<p><strong>Required for</strong>: Getting ID token with user identity claims.</p>
<p><strong>Returns</strong>: <code>id_token</code> in token response (JWT with user info).</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"id_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIs..."</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIs..."</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>ID token claims</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dr-johnson-123"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr. Sarah Johnson"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sarah.johnson@hospital.org"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"fhirUser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.example.org/Practitioner/dr-johnson"</span>
<span class="p">}</span>
</code></pre></div>
<hr/>
<h3 id="profile-user-profile-information"><code>profile</code> - User profile information</h3>
<p><strong>Returns</strong>: Name, family name, given name, middle name, nickname, preferred username, profile URL, picture URL, website, gender, birthdate, zoneinfo, locale.</p>
<hr/>
<h3 id="email-email-address"><code>email</code> - Email address</h3>
<p><strong>Returns</strong>: <code>email</code> and <code>email_verified</code> claims.</p>
<hr/>
<h3 id="fhiruser-fhir-resource-url-for-user"><code>fhirUser</code> - FHIR resource URL for user</h3>
<p><strong>Returns</strong>: <code>fhirUser</code> claim in token response.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"fhirUser"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fhir.example.org/Practitioner/dr-johnson"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Use case</strong>: Fetch authenticated user's FHIR resource to display profile, specialty, organization.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// After authorization</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fhirUserUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">fhirUser</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">practitioner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">fhirUserUrl</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">Authorization</span><span class="o">:</span><span class="w"> </span><span class="sb">`Bearer </span><span class="si">${</span><span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">access_token</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">r</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Logged in as: </span><span class="si">${</span><span class="nx">practitioner</span><span class="p">.</span><span class="nx">name</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">text</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Specialty: </span><span class="si">${</span><span class="nx">practitioner</span><span class="p">.</span><span class="nx">qualification</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">code</span><span class="p">.</span><span class="nx">text</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</code></pre></div>
<hr/>
<h2 id="launch-context-scopes-ehr-integration">Launch Context Scopes (EHR Integration)</h2>
<h3 id="launch-enable-ehr-launch"><code>launch</code> - Enable EHR launch</h3>
<p><strong>Required for</strong>: EHR-initiated launch flow.</p>
<p><strong>Must include</strong>: <code>launch</code> parameter in authorization request.</p>
<p><strong>Without this scope</strong>: Authorization server rejects launch token.</p>
<hr/>
<h3 id="launchpatient-request-patient-context"><code>launch/patient</code> - Request patient context</h3>
<p><strong>Returns</strong>: <code>patient</code> claim in token response.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"patient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-1288992"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Use case</strong>: App needs to know which patient is in context.</p>
<p><strong>If not requested</strong>: Token response won't include patient ID (app must prompt user or fail).</p>
<hr/>
<h3 id="launchencounter-request-encounter-context"><code>launch/encounter</code> - Request encounter context</h3>
<p><strong>Returns</strong>: <code>encounter</code> claim in token response.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"encounter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-enc-456"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Use case</strong>: Clinical documentation apps that need encounter context for billing, note-taking.</p>
<p><strong>Common pattern</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s1">'launch'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'launch/patient'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'launch/encounter'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'patient/*.read'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'openid'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'fhirUser'</span>
<span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>
</code></pre></div>
<hr/>
<h2 id="offline-access-long-term-tokens">Offline Access (Long-Term Tokens)</h2>
<h3 id="offline_access-request-refresh-token"><code>offline_access</code> - Request refresh token</h3>
<p><strong>Returns</strong>: <code>refresh_token</code> in token response.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIs..."</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_abc123"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Use case</strong>: Apps that need access when user is not actively logged in.</p>
<p><strong>Examples</strong>:
- Fitness tracker syncing daily
- Medication reminder app
- Research study data collection</p>
<p><strong>User experience</strong>: Consent screen shows "Keep access after you log out" or similar language.</p>
<p><strong>Security</strong>: Refresh tokens should be stored securely (encrypted storage, server-side only).</p>
<hr/>
<h2 id="typical-scope-combinations-from-your-scaffold">Typical Scope Combinations (From Your Scaffold)</h2>
<h3 id="basic-read-only-app-patient-portal">Basic Read-Only App (Patient Portal)</h3>
<div class="highlight"><pre><span></span><code>openid fhirUser launch launch/patient
patient/Patient.read
patient/Observation.read
patient/Condition.read
</code></pre></div>
<p><strong>What it enables</strong>:
- User identity (openid, fhirUser)
- EHR launch support (launch, launch/patient)
- Read patient demographics
- Read observations and conditions</p>
<hr/>
<h3 id="comprehensive-read-access-health-summary">Comprehensive Read Access (Health Summary)</h3>
<div class="highlight"><pre><span></span><code>openid fhirUser launch launch/patient offline_access
patient/*.read
</code></pre></div>
<p><strong>What it enables</strong>:
- Everything in basic scope
- All patient resources (wildcard)
- Long-term access (offline_access)</p>
<p><strong>User sees</strong>: "This app will access your complete health record and keep access after you log out."</p>
<hr/>
<h3 id="clinical-documentation-app-provider-tool">Clinical Documentation App (Provider Tool)</h3>
<div class="highlight"><pre><span></span><code>openid profile fhirUser launch launch/patient launch/encounter
patient/Patient.read
patient/Observation.write
patient/Condition.write
</code></pre></div>
<p><strong>What it enables</strong>:
- Provider identity with profile
- EHR launch with encounter context
- Read patient demographics
- Create/update observations and conditions</p>
<p><strong>Use case</strong>: SOAP note documentation, clinical data entry.</p>
<hr/>
<h3 id="provider-dashboard-population-health">Provider Dashboard (Population Health)</h3>
<div class="highlight"><pre><span></span><code>openid profile fhirUser launch
user/Patient.read
user/Observation.read
user/Condition.read
user/Encounter.read
</code></pre></div>
<p><strong>What it enables</strong>:
- Provider identity
- EHR launch (no specific patient)
- Read across patient panel
- View observations, conditions, encounters for multiple patients</p>
<p><strong>Use case</strong>: Quality measure dashboard, care gap analysis.</p>
<hr/>
<h3 id="backend-service-no-user">Backend Service (No User)</h3>
<div class="highlight"><pre><span></span><code>system/Patient.read
system/Observation.read
</code></pre></div>
<p><strong>Authentication</strong>: Client credentials grant (not authorization code).</p>
<p><strong>No user interaction</strong>: Automated workflow.</p>
<p><strong>Use case</strong>: Bulk data export, analytics pipeline, report generation.</p>
<p><strong>Example token request</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="err">POST /token</span>
<span class="err">Content-Type: application/x-www-form-urlencoded</span>

<span class="err">grant_type=client_credentials&amp;</span>
<span class="err">scope=system/Patient.read system/Observation.read&amp;</span>
<span class="err">client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer&amp;</span>
<span class="err">client_assertion=eyJhbGciOiJSUzI1NiIs...</span>
</code></pre></div>
<hr/>
<h2 id="scope-negotiation-requested-vs-granted">Scope Negotiation: Requested vs. Granted</h2>
<p><strong>Important</strong>: Authorization server may grant <strong>subset</strong> of requested scopes.</p>
<p><strong>Scenario</strong>: App requests:</p>
<div class="highlight"><pre><span></span><code>patient/*.read patient/*.write offline_access
</code></pre></div>
<p><strong>User denies write access and offline access</strong>. Token response:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"patient/*.read"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"patient"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smart-1288992"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Your app must check</strong> granted scopes before attempting operations:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">checkScope</span><span class="p">(</span><span class="nx">grantedScopes</span><span class="p">,</span><span class="w"> </span><span class="nx">requiredScope</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">grantedScopes</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Exact match</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">requiredScope</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Wildcard match</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="nx">resource</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">requiredScope</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wildcardWrite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">context</span><span class="si">}</span><span class="sb">/*.write`</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">wildcardAll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">context</span><span class="si">}</span><span class="sb">/*.*`</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">wildcardWrite</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">scopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">wildcardAll</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// .write implies .read</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">requiredScope</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span><span class="s1">'.read'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">writeScope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">requiredScope</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">'.read'</span><span class="p">,</span><span class="w"> </span><span class="s1">'.write'</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">writeScope</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">granted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">scope</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">checkScope</span><span class="p">(</span><span class="nx">granted</span><span class="p">,</span><span class="w"> </span><span class="s1">'patient/Observation.write'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Show "Record Blood Pressure" button</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Hide button or show "Read-only access" message</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">checkScope</span><span class="p">(</span><span class="nx">granted</span><span class="p">,</span><span class="w"> </span><span class="s1">'offline_access'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">'No offline access - user will need to re-authorize periodically'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<hr/>
<h2 id="scope-best-practices">Scope Best Practices</h2>
<h3 id="1-request-minimum-necessary-scopes">1. Request Minimum Necessary Scopes</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// BAD: Over-requesting</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'launch launch/patient patient/*.* offline_access'</span><span class="p">;</span>

<span class="c1">// GOOD: Request only what you need</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">scopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'launch launch/patient patient/Observation.read patient/Condition.read'</span><span class="p">;</span>
</code></pre></div>
<p><strong>Why</strong>: Users trust apps that request minimal access. Reduces security risk.</p>
<hr/>
<h3 id="2-explain-scopes-to-users">2. Explain Scopes to Users</h3>
<p><strong>In-app explanation before authorization</strong>:</p>
<div class="highlight"><pre><span></span><code>This app will request access to:
• Your vital signs (blood pressure, heart rate)
• Your condition history (diagnoses)

This app will NOT access:
• Your medication list
• Your billing information
• Other patients' data
</code></pre></div>
<hr/>
<h3 id="3-handle-partial-grants-gracefully">3. Handle Partial Grants Gracefully</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Check granted scopes and adapt UI</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">grantedScopes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tokenResponse</span><span class="p">.</span><span class="nx">scope</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">grantedScopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'patient/Observation.write'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">showRecordDataButton</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">showReadOnlyMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">grantedScopes</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">'offline_access'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">showPeriodicReauthorizationWarning</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<hr/>
<h3 id="4-use-write-carefully">4. Use <code>.write</code> Carefully</h3>
<ul>
<li>Require user confirmation before writing data</li>
<li>Implement undo functionality</li>
<li>Log all modifications for audit</li>
<li>Validate data thoroughly before submission</li>
</ul>
<hr/>
<h2 id="common-scope-errors">Common Scope Errors</h2>
<h3 id="error-insufficient_scope">Error: insufficient_scope</h3>
<p><strong>Cause</strong>: Token doesn't have required scope for operation.</p>
<p><strong>Example</strong>: Trying to create Observation with only <code>.read</code> scope.</p>
<p><strong>Response</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OperationOutcome"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"issue"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nt">"severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"forbidden"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"diagnostics"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insufficient scope. Required: patient/Observation.write, Have: patient/Observation.read"</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Fix</strong>: Request appropriate scope or disable unavailable features.</p>
<hr/>
<h3 id="error-invalid_scope">Error: invalid_scope</h3>
<p><strong>Cause</strong>: Requested scope not supported by server.</p>
<p><strong>Example</strong>: Server doesn't support <code>patient/*.write</code>.</p>
<p><strong>Response</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid_scope"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"error_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scope not supported: patient/*.write"</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Fix</strong>: Check CapabilityStatement for supported scopes. Request alternative scopes.</p>
<hr/>
<h2 id="next-steps">Next Steps</h2>
<p>Now, armed with understanding about how to request and use scopes, let's explore how apps discover server capabilities.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: SMART Launch Flow" class="md-footer__link md-footer__link--prev" href="../deepdive-smart-launch-flow/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                SMART Launch Flow
              </div>
</div>
</a>
<a aria-label="Next: SMART Configuration Discovery" class="md-footer__link md-footer__link--next" href="../deepdive-smart-config-discovery/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                SMART Configuration Discovery
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-consent" data-md-component="consent" hidden="" id="__consent">
<div class="md-consent__overlay"></div>
<aside class="md-consent__inner">
<form class="md-consent__form md-grid md-typeset" name="consent">
<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.
</p>
<input class="md-toggle" id="__settings" type="checkbox"/>
<div class="md-consent__settings">
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control">
<input checked="" name="analytics" type="checkbox"/>
<span class="task-list-indicator"></span>
          Google Analytics
        </label>
</li>
</ul>
</div>
<div class="md-consent__controls">
<button class="md-button md-button--primary">Accept</button>
<label class="md-button" for="__settings">Manage settings</label>
</div>
</form>
</aside>
</div>
<script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.top", "navigation.footer", "navigation.indexes", "search.highlight", "search.suggest", "search.share", "content.code.copy", "content.code.select"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../../assets/javascripts/bundle.525ec568.min.js"></script>
<script src="../../../../js/diagram-utils.js"></script>
<script src="../../../../js/seamaiden.js"></script>
<script src="../../../../js/diagram-theme-switcher.js"></script>
<script src="../../../../js/diagram-zoom.js"></script>
<script src="../../../../js/alphabet-auto.js"></script>
<script src="../../../../js/open_in_new_tab.js"></script>
<script src="../../../../assets/mkdocs_puml/puml.js"></script>
<script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>
<script src="../../../../assets/mkdocs_puml/interaction.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>