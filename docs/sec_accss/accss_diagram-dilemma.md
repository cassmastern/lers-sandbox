## The Diagramming Dilemma

This is about diagrams. I'm building a documentation platform that’s supposed to be modular, accessible, and changelog-driven. Mermaid fits the bill — text-based, Markdown-native, CI/CD-friendly — but it’s failing me where it matters most:

* In **dark mode** , arrowheads vanish, labels fade, and contrast collapses.
* CSS-only fixes are inconsistent. JS-based toggles feel invasive.
* I'm trying to find the optimumal solution for injecting accessibility metadata and asserting semantic clarity. Hacks aren’t acceptable.
* I refuse to sacrifice **UML semantics** for visual fidelity.
* [Draw.io](https://draw.io) and other tools offer control, but compromise versionability and editorial sovereignty.

It's not about just diagramming — it's about asserting meaning, clarity, and respect for the reader. And the tooling isn’t quite keeping up.

## Comparative Chart: Diagramming Tools

| Feature                    | Mermaid                              | Draw.io (diagrams.net)                     | PlantUML                                | Graphviz (DOT language)                 | Structurizr DSL                         | Pre-rendered SVGs                     | Flowchart fallback                                      |
|---------------------------|--------------------------------------|--------------------------------------------|-----------------------------------------|-----------------------------------------|-----------------------------------------|---------------------------------------|---------------------------------------------------------|
| **Input format**           | <span style="color: var(--color-good);">Text-based `.mmd`</span>                     | <span style="color: var(--color-bad);">GUI-based `.drawio`, `.xml`, `.svg`, `.png`</span> | <span style="color: var(--color-good);">Text-based `.puml`</span>                       | <span style="color: var(--color-good);">Text-based `.dot`</span>                        | <span style="color: var(--color-good);">Text-based `.dsl`</span>                        | <span style="color: var(--color-warn);">SVG (exported from any tool)</span>          | <span style="color: var(--color-good);">Text-based `.mmd`</span>                                        |
| **Markdown integration**   | <span style="color: var(--color-good);">Native via MkDocs Material</span>           | <span style="color: var(--color-bad);">Requires embedding exported images/SVGs</span>    | <span style="color: var(--color-bad);">Requires embedding exported images/SVGs</span> | <span style="color: var(--color-bad);">Requires embedding exported images/SVGs</span> | <span style="color: var(--color-bad);">Requires embedding exported images/SVGs</span> | <span style="color: var(--color-warn);">Embed via `<object>` or `<img>`</span>        | <span style="color: var(--color-good);">Native via MkDocs Material</span>                              |
| **Version control**        | <span style="color: var(--color-good);">Excellent (diffable text)</span>            | <span style="color: var(--color-bad);">Poor (binary or XML diffs are noisy)</span>       | <span style="color: var(--color-good);">Excellent (diffable text)</span>               | <span style="color: var(--color-good);">Excellent (diffable text)</span>               | <span style="color: var(--color-good);">Excellent (diffable text)</span>               | <span style="color: var(--color-warn);">Moderate (SVG diffs are verbose)</span>      | <span style="color: var(--color-good);">Excellent (diffable text)</span>                               |
| **Accessibility metadata** | <span style="color: var(--color-good);">Supported via `accTitle`, `accDescr`</span>  | <span style="color: var(--color-bad);">Must be manually injected into SVG/HTML</span>    | <span style="color: var(--color-bad);">Must be manually injected into SVG/HTML</span> | <span style="color: var(--color-bad);">Must be manually injected into SVG/HTML</span> | <span style="color: var(--color-bad);">Must be manually injected into SVG/HTML</span> | <span style="color: var(--color-good);">Full control via ARIA + semantic HTML</span> | <span style="color: var(--color-good);">Supported via `accTitle`, `accDescr`</span>                     |
| **Theme adaptability**     | <span style="color: var(--color-warn);">Limited, brittle</span>                     | <span style="color: var(--color-good);">Full control via SVG + CSS</span>                 | <span style="color: var(--color-good);">Reliable via skinparams</span>                 | <span style="color: var(--color-good);">Full control via attributes + CSS</span>       | <span style="color: var(--color-warn);">Limited in raw DSL</span>                      | <span style="color: var(--color-good);">Full control via CSS variables/media</span>  | <span style="color: var(--color-good);">Adaptable via themeVariables</span>                            |
| **Diagram fidelity**       | <span style="color: var(--color-warn);">Good for UML, limited layout control</span> | <span style="color: var(--color-good);">Excellent layout, full visual control</span>      | <span style="color: var(--color-good);">Excellent for UML</span>                       | <span style="color: var(--color-warn);">Excellent for graphs, poor for UML</span>      | <span style="color: var(--color-good);">Excellent for C4 model</span>                  | <span style="color: var(--color-good);">Excellent, if exported with care</span>      | <span style="color: var(--color-bad);">Poor for UML semantics</span> |
| **Automation potential**   | <span style="color: var(--color-good);">High (CLI, scripts, CI/CD)</span>           | <span style="color: var(--color-warn);">Moderate (export + post-process)</span>           | <span style="color: var(--color-good);">High (CLI, scripts, CI/CD)</span>              | <span style="color: var(--color-good);">High (CLI, scripts, CI/CD)</span>              | <span style="color: var(--color-warn);">Moderate (requires Structurizr tooling)</span> | <span style="color: var(--color-good);">High (SVG post-processing + CI/CD)</span>    | <span style="color: var(--color-good);">High (CLI, scripts, CI/CD)</span>                              |
| **Semantic clarity**       | <span style="color: var(--color-good);">Strong for UML, sequence, flow</span>       | <span style="color: var(--color-warn);">Weaker—visual but not semantic</span>            | <span style="color: var(--color-good);">Strong for UML</span>                          | <span style="color: var(--color-warn);">Weak—graph structure only</span>              | <span style="color: var(--color-good);">Strong for architecture</span>                 | <span style="color: var(--color-good);">Strong if metadata is injected</span>        | <span style="color: var(--color-warn);">Weak—flowchart only</span>                                    |
