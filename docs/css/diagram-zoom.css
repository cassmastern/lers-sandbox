/**
 * Diagram Zoom Lightbox Styles (REFACTORED)
 * Uses CSS custom properties for maintainability and theming
 */

/* ============================================================================
   CSS CUSTOM PROPERTIES
   ============================================================================ */

:root {
  /* Lightbox layout */
  --mz-lightbox-z-index: 1000;
  --mz-lightbox-padding: 1rem;
  --mz-lightbox-max-width: 98vw;
  --mz-lightbox-max-height: 98vh;
  
  /* Colors - Light theme (default) */
  --mz-overlay-bg: rgba(0, 0, 0, 0.65);
  --mz-svg-bg: var(--md-default-bg-color, #fff);
  --mz-svg-shadow: var(--md-shadow-z3, 0 10px 30px rgba(0, 0, 0, 0.35));
  
  /* Timing and animation */
  --mz-fade-duration: 0.18s;
  --mz-transform-duration: 0.2s;
  --mz-timing-function: ease-out;
  
  /* Border radius */
  --mz-border-radius: 0.25rem;
}

/* Dark theme adjustments */
[data-md-color-scheme="slate"] {
  --mz-svg-bg: var(--md-default-bg-color, #1e1e1e);
  --mz-svg-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
}

/* ============================================================================
   ZOOMABLE SVG CURSOR
   ============================================================================ */

.mz-zoomable {
  cursor: zoom-in;
}

/* ============================================================================
   LIGHTBOX OVERLAY
   ============================================================================ */

.mz-lightbox {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: var(--mz-lightbox-padding);
  background: var(--mz-overlay-bg);
  z-index: var(--mz-lightbox-z-index);
}

/* Show overlay when active */
.mz-lightbox[aria-hidden="false"] {
  display: flex;
  animation: mz-fade var(--mz-fade-duration) var(--mz-timing-function);
}

/* ============================================================================
   LIGHTBOX CONTENT CONTAINER
   ============================================================================ */

.mz-lightbox__content {
  max-width: var(--mz-lightbox-max-width);
  max-height: var(--mz-lightbox-max-height);
  overflow: visible; /* Allow zoom to expand beyond container */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ============================================================================
   ZOOMABLE SVG INSIDE LIGHTBOX
   ============================================================================ */

.mz-lightbox__svg {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  transition: transform var(--mz-transform-duration) var(--mz-timing-function);
  transform-origin: center center;
  cursor: grab;
  touch-action: none; /* Enable pinch-zoom support */
  background: var(--mz-svg-bg);
  border-radius: var(--mz-border-radius);
  box-shadow: var(--mz-svg-shadow);
}

.mz-lightbox__svg:active {
  cursor: grabbing;
}

/* ============================================================================
   ANIMATIONS
   ============================================================================ */

@keyframes mz-fade {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ============================================================================
   ACCESSIBILITY - REDUCED MOTION
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  .mz-lightbox[aria-hidden="false"] {
    animation: none;
  }
  
  .mz-lightbox__svg {
    transition: none;
  }
}
